# Решения задачек

Добрый день, коллеги.

Сейчас мы с вами постараемся разобрать решения этих 2-х довольно простых задачек.

## Задача № 1

У игральной кости всего 6 граней. При броскевыпадение 1 грани взаимоисключает выпадение других граней. 

Таким образом, вероятность выпадения любой грани кости равна $\frac {1}{6}$.

#### Теорема сложения вероятностей для нескольких несовместных событий

Согласно теории сложения вероятностей, вероятность того, что произойдёт одно из двух взаимно несовместных событий, равна сумме вероятностей этих событий:
$$
P(A \cup B) = P(A) + P(B)
$$
Таким образом, вероятность выпадения любой из граней (1,2,3,4,5) равна сумме вероятностей выпадения кждой из них:
$$
P(1 \cup 2 \cup 3 \cup 4 \cup 5) = P(1) + P(2) + P(3) + P(4) + P(5) =  \\ = \frac {1}{6} + \frac {1}{6} + \frac {1}{6} + \frac {1}{6} + \frac {1}{6} = \frac {5}{6}
$$
Таким образом, вычисляем вероятности выпадения граней согласно условиям:

- любая из граней (1,2,3,4,5) - вероятность $P(1:5) = \frac {5}{6}$ 
- любая из граней (1,2,3,4) - вероятность $P(1:4) = \frac {4}{6}$
- любая из граней (1,2,3) - вероятность $P(1:3) = \frac {3}{6}$
- любая из граней (1,2) - вероятность $P(1:2) = \frac {2}{6}$
- грань (1) - вероятность $P(1) = \frac {1}{6}$

Теперь разберемся с бросками. Результат каждого броска кубика не зависит от предыдущего результата! Если в прошлый раз выпала 1, в следующий раз может снова выпасть 1, а может и 6 (поэтому-то мы и играем в кости). 

Так вот. 

#### Теорема умножения вероятностей для независимых событий

Вероятность наступления одновременного наступления **двух независимых событий** А и В равна произведению вероятностей этих событий. Т.е., чтобы рассчитать с какой вероятностью выпадет $(1,2,3,4,5)$, а при следующем броске $(1,2,3,4)$ нам нужно  $P(1:5) \times P(1:4)$. 

В нашем случае для решения задачи нам нужно вычислить произведение 
$$
P((1:5) \cap (1:4) \cap (1:3) \cap (1:2) \cap (1)) = \\
= P(1:5) \times P(1:4) \times P(1:3) \times P(1:2) \times P(1) = \\
= \frac {5}{6} \times \frac {4}{6} \times \frac {3}{6} \times \frac {2}{6} \times \frac {1}{6} \approx 0.0154
$$
Действительно, довольно просто. К тому же, мы поняли, как складывать и перемножать вероятности, а это понадобится нам для решения следующей задачи!

## Задача № 2

Начнем с 3 игральных костей. При броске мы бросаем их вместе, при этом результат выпадения на кости №1 не связан с результатом на кости №2 и №3. Т.е., это *независимые события*. 

Мы помним, что вероятность выпадения любой грани на одной кости равна $\frac {1}{6}$.

Для того, чтобы нам рассчитать вероятность выпадения грани *номер 1* на всех трех кубиках, нам нужно перемножить вероятности выпадения этой грани на каждой кости:
$$
P(1(кость\ 1) \cap 1(кость\ 2) \cap 1(кость\ 3)) = \\
= \frac {1}{6} \times \frac {1}{6} \times \frac {1}{6} = \frac {1}{216}
$$
Выпадение на каждой кости *грани 1* дает в сумме 3 очка. Это единственная комбинация при броске 3-х костей, которая дает такую сумму. 

####  Сочетания и перестановки

Рассмотрим вариант с 4-мя очками. Он возможен в случае, когда выпадают следующие варианты очков на 3-х костях:

| Кость 1 | Кость 2 | Кость 3 | Сумма очков |
| ------- | ------- | ------- | ----------- |
| 1       | 1       | 2       | 4           |
| 1       | 2       | 1       | 4           |
| 2       | 1       | 1       | 4           |

Мы видим, что количество очков получается в сумме из 3-х элементов множества, причем количество таких элементов у нас строго 3 (т.к. игральных костей 3). 

С одной стороны, мы видим, что есть одна единственная уникальная комбинация, представляющая собой набор  $\{1,1,2\}$. Такая комбинация получила название сочетание. 

С другой стороны, в зависимости от выпадения граней костей, могут быть *перестановки* этого сочетания, указанные в таблице. Для 4 -х очков таких перестановок 3. 

Вот, в задаче № 2 нам нужно рассчитать вероятность выпадения сочетаний с перестановками, дающих св сумме определенное число, дибо сумму менее ишли более, и т.д.

Например, 

- для суммы 3 очка, сочетание одно {1,1,1} и перестановок нет, когда выпадают единицы на всех трех костях
- для 4-х очков - сочетание одно {1,1,2}, но перестановок 3.
- и т.д.

Для суммы, дающей 10 очков, количество сочетаний с перестановками будет 27:

```
1 3 6
1 4 5
1 5 4
1 6 3
2 2 6
2 3 5
2 4 4
2 5 3
2 6 2
3 1 6
3 2 5
3 3 4
3 4 3
3 5 2
3 6 1
4 1 5
4 2 4
4 3 3
4 4 2
4 5 1
5 1 4
5 2 3
5 3 2
5 4 1
6 1 3
6 2 2
6 3 1
```

Сумма каждой из этих перестановок будет равна 10.  

Далее наша задача сводится к тому, чтобы посчитать количество всех перестановок, которые в сумме дадут строго свыше 12. Таких перестановок будет 56 (по аналогии).

Последнее условие задачи требует среди перестановок, сумма которых равна 6 и менее, отыскать все, дающие еще и четную сумму очков (т.е., 6 и 4). Их будет 13.

Таким образом, для ответа на вопрос задачи, нам нужно рассчитать вероятность условий с учетом 3-х бросков (результат каждого броска 3 костей является независимым от результата предыдущих бросков, что снова позволяет нам перемножить вероятности реализации условий).

Отвечая на главный вопрос, нам нужно рассчитать:
$$
\frac{27}{216}\times \frac{56}{216}\times \frac{13}{216} = \frac{19656}{10077696} = \frac{819}{419904} \approx 0.00195
$$

## Визуальная интерпретация

Можно попробовать визуально представить, что происходит. На мой взгляд, такой подход несколько ближе нематематикам. 

#### Одна игральная кость

Например, если у нас есть только одна игральная кость, вероятность выпадения той или иной грани следующая:

| 1       | 2       | 3       | 4       | 5       | 6       |
| ------- | ------- | ------- | ------- | ------- | ------- |
| р = 1/6 | р = 1/6 | р = 1/6 | р = 1/6 | р = 1/6 | р = 1/6 |

Соответственно, если мы хотим рассчитать вероятность выпадения одной из нескольких граней (1 или 3), нам просто нужно сложить вероятности. 

#### Две игральные кости

Вероятность и сумма очков с 2-мя игральными костями может быть представлена в виде матрицы 6 х 6:

 

|      | 1             | 2             | 3             | 4             | 5             | 6             |
| ---- | ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |
| 1    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |
| 2    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |
| 3    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |
| 4    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |
| 5    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |
| 6    | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) | р = 1/(6 х 6) |



Таким образом, каждая ячейка является перестановкой, а вероятность ее появления $\frac{1}{36}$. 

Все суммы очков по такой матрице:

```
	  1   2   3   4   5   6
	  
1	[ 2,  3,  4,  5,  6,  7],
2	[ 3,  4,  5,  6,  7,  8],
3	[ 4,  5,  6,  7,  8,  9],
4	[ 5,  6,  7,  8,  9, 10],
5	[ 6,  7,  8,  9, 10, 11],
6	[ 7,  8,  9, 10, 11, 12]
```

#### Три игральные кости

Структура, отражающая вероятность той или иной комбинации с 3-мя игральными костями может быть представлена в виде куба 6х6х6:

![Купить кубик Рубика 6x6 | обзор, цены, купить](https://cccstore.ru/upload/iblock/ff0/ff0a169988d9b544cb5bb1c29c050f16.webp)

Таким образом, вероятность выпадения той или иной перестановки равна $\frac{1}{6 \times 6 \times 6}$. 

Если мы разрежем этот куб на 6 плоскостей и рассчитаем сумму очков по каждой перестановке, мы получим следующие 6 матриц:

```
+1

  1   2   3   4   5   6
  
[ 3,  4,  5,  6,  7,  8],	1
[ 4,  5,  6,  7,  8,  9],	2
[ 5,  6,  7,  8,  9, 10],	3
[ 6,  7,  8,  9, 10, 11],	4
[ 7,  8,  9, 10, 11, 12],	5
[ 8,  9, 10, 11, 12, 13]],	6

+2

[[ 4,  5,  6,  7,  8,  9],
[ 5,  6,  7,  8,  9, 10],
[ 6,  7,  8,  9, 10, 11],
[ 7,  8,  9, 10, 11, 12],
[ 8,  9, 10, 11, 12, 13],
[ 9, 10, 11, 12, 13, 14]],

+3

[[ 5,  6,  7,  8,  9, 10],
[ 6,  7,  8,  9, 10, 11],
[ 7,  8,  9, 10, 11, 12],
[ 8,  9, 10, 11, 12, 13],
[ 9, 10, 11, 12, 13, 14],
[10, 11, 12, 13, 14, 15]],

+4

[[ 6,  7,  8,  9, 10, 11],
[ 7,  8,  9, 10, 11, 12],
[ 8,  9, 10, 11, 12, 13],
[ 9, 10, 11, 12, 13, 14],
[10, 11, 12, 13, 14, 15],
[11, 12, 13, 14, 15, 16]],

+5

[[ 7,  8,  9, 10, 11, 12],
[ 8,  9, 10, 11, 12, 13],
[ 9, 10, 11, 12, 13, 14],
[10, 11, 12, 13, 14, 15],
[11, 12, 13, 14, 15, 16],
[12, 13, 14, 15, 16, 17]],

+6

[[ 8,  9, 10, 11, 12, 13],
[ 9, 10, 11, 12, 13, 14],
[10, 11, 12, 13, 14, 15],
[11, 12, 13, 14, 15, 16],
[12, 13, 14, 15, 16, 17],
[13, 14, 15, 16, 17, 18]
```

Наша задача будет заключаться в том, чтобы правильно выбрать те ячейки-перестановки, которые удовлетворяют нашим условиям, и затем рассчитать вероятность. 
